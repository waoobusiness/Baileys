# ---- HTTP ----
# Note: sur Render, PORT est injecté automatiquement. Laisse vide ou garde par défaut.
PORT=10000

# Logs
LOG_LEVEL=info

# ---- Auth partagée (même token côté Supabase & Render) ----
RESOLVER_BEARER=rb_315aca7f5c8cd328031906d091a10a07b37da3d3012b1c21018150468b199f4d

# ---- Scraping / Proxy (critique pour Autoscout24) ----
# Proxy Edge hébergé sur Supabase (fonction html-proxy)
CARS_PROXY_URL=https://ygechteenbrsqxggfcag.supabase.co/functions/v1/html-proxy
# Force le passage par le proxy pour tous les domaines autoscout24.*
ALWAYS_PROXY_AUTOSCOUT=true
# User-Agent utilisé pour les fetch directs (fallback)
DEFAULT_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127 Safari/537.36
REQUEST_BACKOFF_MS_MIN=300
REQUEST_BACKOFF_MS_MAX=700
MAX_PAGES=60

# ---- WhatsApp / Baileys ----
# Dossier d'auth persistant pour garder la session entre redéploiements
# (Monte un Disque Persistant Render et pointe-le ici, ex: /data/auth)
AUTH_DIR=/data/auth

# ---- Supabase (si tu écris en base depuis Render) ----
SUPABASE_URL=https://<project>.supabase.co
SUPABASE_SERVICE_ROLE=xxxxx
UPSERT_TO_SUPABASE=true
MARK_MISSING_AS_UNLISTED=true

# ---- OpenAI (optionnel) ----
OPENAI_API_KEY=https://api.openai.com/v1
VS_AUTO_SYNC=false
VS_PREFIX=cars-
